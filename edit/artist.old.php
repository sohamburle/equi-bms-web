<!--
	Looking at source code, eh?
	Trying to be a hacker?
░░░░░▄▄▄▀▀▀▀▀▀▀▀▀▄▄▄░░░░░░░░░
░░░▄▀░░░░░░░░░░░░░░░▀▀▄▄░░░░░
░░▄▀░░░░░░░░░░░░░░░░░░░░▀▄░░░
░▄▀░░░░░░░░░░░░░░░░░░░░░░░█░░
░█░░░░░░░░░░░░░░░░░░░░░░░░░█░
▐░░░░░░░░░░░░░░░░░░░░░░░░░░░█
█░░░░▀▀█▄▄▄░░░▄▌░░░░░░░░░░░░▐
▌░░░░░▌░██▀█▀▀░░░▄▄▄▄▄░░░░▌░▐
▌░░░░░▀▄▄▄▀░░░░░░▌░▀███▄▄▀░░▐
▌░░░░░░░░░░░░░░░░░▀▄▄▄▄▀░░░▄▌
▐░░░░▐▀░░░░░░░░░░░░░░░░░░░▄▀░
░█░░░▌░░▄▀▀▀▄▄▄░░░░░░░░░░▄▀░░
░░█░░▀░░░░▄▄▄▄░▀▀▌░░▌░░░█░░░░
░░░▀▄░░░░░░░░░▀░░░▄▀░░▄▀░░░░░
░░░░░▀▄▄▄░░░░░░░░░▄▄▀▀░░░░░░░
░░░░░░░░▐▀▀▀▀▀▀▀▀▀░░░░░░░░░░░
░░░░░░░░█░░░░░░░░░░░░░░░░░░░░
█▀▀█ █▀▀█ █▀▀ 　 █░░█ █▀▀█ █░░█
█▄▄█ █▄▄▀ █▀▀ 　 █▄▄█ █░░█ █░░█
▀░░▀ ▀░▀▀ ▀▀▀ 　 ▄▄▄█ ▀▀▀▀ ░▀▀▀
▒█░▄▀ ▀█▀ ▒█▀▀▄ ▒█▀▀▄ ▀█▀ ▒█▄░▒█ ▒█▀▀█
▒█▀▄░ ▒█░ ▒█░▒█ ▒█░▒█ ▒█░ ▒█▒█▒█ ▒█░▄▄
▒█░▒█ ▄█▄ ▒█▄▄▀ ▒█▄▄▀ ▄█▄ ▒█░░▀█ ▒█▄▄█
▒█▀▄▀█ ▒█▀▀▀ ▀█
▒█▒█▒█ ▒█▀▀▀ █▀
▒█░░▒█ ▒█▄▄▄ ▄░

		Well...

───────────────────██
──────────────────█─██
──────────────────█───█
──────────────────█───█
──────────────────█───█
──────────────────█───█
──────────────────█───█▓
──────────────────█───▓█
──────────────────█───░█
──────────────────█───░█
──────────────────█░░░─█
───────────▓███──██▓▓███
───────────██──▓██▓────██
───────────█▓────█▓─────▓█
───────────█▓─────█──────░█
██████─────█▓─────█────────█
████████▓███░──────█──█▓────█
█░░░░░░█───────────█░███────█▓
▓██████─────────────█▓██────██
███████░────────────────────▓█
▓██████░────────────────────░█
▓██████░────────────────────▓█
▓██████░────────────────────█▓
▓██████░────────────────────█
▓██████░───────────────────██
▓███░██░──────────────────█
▓███──████████████████████
██████
-->

<!DOCTYPE HTML>
<html>
<head>
    <title>Bombay Metal Scene :: Add/Edit Artists</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="keywords" content="fantastico Responsive web template, Bootstrap Web Templates, Flat Web Templates,
    Andriod Compatible web template, Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG,
    SonyErricsson, Motorola web design"/>
    <script type="application/x-javascript">
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }

    </script>
    <link href="../css/bootstrap.css" rel='stylesheet' type='text/css'/>
    <link href="../css/style.css" rel='stylesheet' type='text/css'/>
    <link href="../css/jquery-ui.min.css" rel='stylesheet' type='text/css'/>
    <link href="../css/fonts.css" rel='stylesheet' type='text/css'/>
<!--    <link href="../css/dropzone.min.css" rel='stylesheet' type='text/css'/>-->
    <!--    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">-->
<!--    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>-->
<!--    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>-->
    <script type="text/javascript" src="../js/jquery-2.2.0.min.js"></script>
    <script type="text/javascript" src="../js/jquery-ui.min_1.12.0-beta.1.js"></script>
    <script type="text/javascript" src="../js/autosize.min.js"></script>
    <!--    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'-->
<!--        rel='stylesheet' type='text/css'>-->
    <!---- start-smoth-scrolling---->
    <script type="text/javascript" src="../js/move-top.js"></script>
    <script type="text/javascript" src="../js/easing.js"></script>
    <script type="text/javascript">
        jQuery(document)
            .ready(function ($) {
                $(".scroll")
                    .click(function (event) {
                        event.preventDefault();
                        $('html,body')
                            .animate({
                                scrollTop: $(this.hash)
                                    .offset()
                                    .top
                            }, 1000);
                    });
            });

    </script>
    <!--start-smoth-scrolling-->
    <!--start-top-nav-script-->
    <script>
        $(function () {
            var pull = $('#pull');
            menu = $('nav ul');
            menuHeight = menu.height();
            $(pull)
                .on('click', function (e) {
                    e.preventDefault();
                    menu.slideToggle();
                });
            $(window)
                .resize(function () {
                    var w = $(window)
                        .width();
                    if (w > 320 && menu.is(':hidden')) {
                        menu.removeAttr('style');
                    }
                });
        });

    </script>
    <!--End-top-nav-script-->

    <style>
        label {artists1.json
            display: inline-block;
            width: 5em;
        }

        fieldset div {
            margin-bottom: 2em;
        }

        .ui-tooltip {
            width: 420px;
            white-space: pre-line;
        }
    </style>

    <script>
        $(function () {
            $('input').tooltip({
                content: function() {
                    return $(this).attr('title');
                },
                position: {
                    my: "left top",
                    at: "right+5 top-5"
                }
            });
        });
    </script>

    <script type="text/javascript">
        jQuery(document).ready(function () {
            jQuery('#artists #todo').on('change', function (event) {
                if (this.value === 'new') {
                    $('.required').attr('required', true);
                    $("#artists #red").addClass("red");
                }
                else if (this.value === 'edit') {
                    $('.required').removeAttr('required');
                    $("#artists #red").removeClass("red");
                }
            })
        });
    </script>

    <script>
        $(function () {
            $("#tat").autocomplete({
                source: "search.php",
                minLength: 2,
                select: function (event, ui) {
                    $('#tat').val(ui.artistName);
                    $('#genre').val(ui.genre);
                }
            });
        });
        $(function() {
            $( "#datepicker" ).datepicker({
                showOn: "button",
                buttonImage: "../images/calendar.gif",
                buttonImageOnly: true,
                buttonText: "Select date",
                changeMonth: true,
                changeYear: true

            });
        });
    </script>

</head>
<body>
<div class="header" id="home">
    <div class="container">
        <div class="head">
            <div class="logo">
                <a href="../index.html"><img src="../images/logo.png" alt="Bombay Metal Scene"/>
                </a>
            </div>
            <div class="navigation">
                <span class="menu"></span>
                <ul class="navig">
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../features.html">Features</a></li>
                    <li><a href="../work.html">Download</a></li>
                    <li><a href="../404.html" class="active">Add/Edit In-app Data</a></li>
                    <li><a href="../about.html">About</a></li>
                </ul>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>

<?php
// define variables and set to empty values
$nameErr = $emailErr = $genderErr = $websiteErr = "";
$needed = $artistName = $details = $genre = $yearFormed = $yearsActive = $lyricalTheme = $currentLabel = $members = $merch = $gigs = $disc = $contact = "";
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    $option = isset($_POST['todo']) ? $_POST['todo'] : false;
    if ($option == "new") {
        $needed = "yes";
    } else if ($option == "edit") {
        $needed = "some";
    }
    if (empty($_POST["name"])) {
        $nameErr = "Name is required";
    } else {
        $name = test_input($_POST["name"]);
        // check if name only contains letters and whitespace
        if (!preg_match("/^[a-zA-Z ]*$/", $name)) {
            $nameErr = "Only letters and white space allowed";
        }
    }

    if (empty($_POST["email"])) {
        $emailErr = "Email is required";
    } else {
        $email = test_input($_POST["email"]);
        // check if e-mail address is well-formed
        if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
            $emailErr = "Invalid email format";
        }
    }

    if (empty($_POST["website"])) {
        $website = "";
    } else {
        $website = test_input($_POST["website"]);
        // check if URL address syntax is valid (this regular expression also allows dashes in the URL)
        if (!preg_match("/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&@#\/%?=~_|!:,.;]*[-a-z0-9+&@#\/%=~_|]/i", $website)) {
            $websiteErr = "Invalid URL";
        }
    }

    if (empty($_POST["comment"])) {
        $comment = "";
    } else {
        $comment = test_input($_POST["comment"]);
    }

    if (empty($_POST["gender"])) {
        $genderErr = "Gender is required";
    } else {
        $gender = test_input($_POST["gender"]);
    }
}

function test_input($data)
{
    $data = trim($data);
    $data = stripslashes($data);
    $data = htmlspecialchars($data);
    return $data;
}

?>

<div class="form-container">
    <div class="contact-top" id="form">
        <h2>Add/Edit Artists</h2>
        <br><br>
        <form method="post" id="artists" action="upload.php" class="dropzone"?>">
            <span class="red"></span> Select What You Want To Do <br>
            <select name="todo" id="todo" required title=""> <span class="error"><?php echo $nameErr; ?> </span>
                <option value="">---</option>
                <option value="new" <?php if ($needed == "yes") echo "selected"; ?>>Add a new Artist</option>
                <option value="edit" <?php if ($needed == "some") echo "selected"; ?>>Edit an existing Artist</option>
            </select> <br><br>
            <span class="red"></span> Name <br>
            <input type="text" name="artistName" class="required" id="tat" value="<?php echo $artistName; ?>"
                   title="start typing, name will appear in auto-complete!<br />in case if it doesn't that means the record isn't available in my repository!">
            <span class="error"> <?php echo $nameErr; ?> </span>
            <br><br>
            <span id="red" class=""></span> Genre <br>
            <input type="text" name="genre" class="required" value="<?php echo $genre; ?>"
                   title="Must be at least 8 characters. <br> this <br> that"><span
                class="error"> <?php echo $nameErr; ?> </span>
            <br><br>
            <span id="red" class=""></span> Date Formed <br>
            <input type="text" name="yearFormed" class="required" value="<?php echo $yearFormed; ?>" min="1970"
                   max="2015"><span class="error"> <?php echo $nameErr; ?> </span>
            <br><br>
            <span id="red" class=""></span>
            Years Active
            <br>
            <input type="text" id="datepicker" name="yearsActive" class="required" value="<?php echo $yearsActive; ?>"><span
                class="error"> <?php echo $nameErr; ?> </span>
            <br><br>
            <span id="red" class=""></span>
            Lyrical Theme
            <br>
            <input type="text" name="lyricalTheme" class="required" value="<?php echo $lyricalTheme; ?>"><span
                class="error"> <?php echo $nameErr; ?> </span>
            <br><br>
            <span id="red" class=""></span>
            Current Label
            <br>
            <input type="text" name="currentLabel" class="required" value="<?php echo $currentLabel; ?>"><span
                class="error"> <?php echo $nameErr; ?> </span>
            <br><br>
            <span id="red" class=""></span>
            Band Members
            <br>
            <textarea name="members" rows="5" cols="40" class=""><?php echo $members; ?></textarea>
            <br><br>
            <span id="red" class=""></span>
            Contact the Band
            <br>
            <textarea name="contact" rows="5" cols="40" class=""><?php echo $contact; ?></textarea>
            <br><br>
            Merchandise
            <br>
            <textarea name="merch" rows="5" cols="40" class=""><?php echo $merch; ?></textarea>
            <br><br>
            Upcoming Gigs
            <br>
            <textarea name="gigs" rows="5" cols="40" class=""><?php echo $gigs; ?></textarea>
            <br><br>
            Discography
            <br>
            <textarea name="disc" rows="5" cols="40"><?php echo $disc; ?></textarea>
            <br><br>
            <span id="red" class=""></span>
            Details
            <br>
            <textarea name="details" rows="5" cols="40" class="required"><?php echo $details; ?></textarea>
            <br><br>
            <span id="red" class=""></span>
<!--            Upload The Latest Artist Picture-->
<!--            <input type="file" id="image" name="image" class="required" title="Can upload only one image.">-->
            <div class="contact-but">
                <input type="submit" id="submit" name="submit" value="Submit"/>
            </div>
        </form>
    </div>
</div>

<script>
    <?php $timestamp = time();?>
    $(function () {
        $('#image').uploadifive({
            'formData': {
                'timestamp': '<?php echo $timestamp;?>',
                'token': '<?php echo md5('unique_salt' . $timestamp);?>'
            },
            'uploader': 'uploadifive.php',
            'onUploadSuccess': function () {
                $('#image').uploadifive('disable', true);
                $('.ui-dialog-titlebar-close').hide();
            },
            'onCancel': function () {
                $('#image').uploadifive('disable', false);
            },
            'onClearQueue': function () {
                $('#image').uploadifive('disable', false);
            }
        });
    });
    autosize(document.querySelectorAll('textarea'));
</script>
<div class="footer">
    <div class="container">
        <div class="footer-top">
            <div class="footer-right">
                <ul>
                    <li><a href="#"><span class="fb"> </span></a></li>
                    <li><a href="#"><span class="twt"> </span></a></li>
                    <li><a href="#"><span class="gp"> </span></a></li>
                    <li><a href="#"><span class="in"> </span></a></li>
                </ul>
            </div>
            <div class="footer-bottom">
                <p>Copyright © 2015 <a href="http://equitharn.in/">equitharn.in</a></p>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
            $().UItoTop({easingType: 'easeOutQuart'});
        });
    </script>
    <a href="#home" id="toTop" class="scroll" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
</div>
</body>
</html>
